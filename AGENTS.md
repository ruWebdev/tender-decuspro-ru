
# AGENTS.md  
Руководство по генерации и поддержке кода для проекта  
на Laravel 12 + Breeze + Inertia + Vue.js

## Общие правила
1. Проект использует Laravel 12, Breeze, Inertia, Vue.js 3 + Composition API + `<script setup>`.
2. Код генерируется с учетом SPA-архитектуры. Рендеринг фронтенда выполняется на Vue.js через Inertia.
3. jQuery запрещен в новом коде. При наличии jQuery-функций из верстки требуется портирование на нативный JavaScript или во Vue-события и реактивность.
4. Новый функционал реализуется компонентно, без inline-скриптов в Blade-шаблонах.
5. TypeScript допускается при наличии конкретного требования.
6. Основной язык для всех комментариев в коде, а также для всех подписей и любых надписей в проекте - РУССКИЙ, кроме тех случаев, когда указывается конкретная надпись на английском языке.
7. ВСЕ тексты на Frontend должны сразу добавляться в словари: Русский, Английский и Китайский. Отображаться на всех трех языках.

## Стек и структура
### Backend (Laravel)
- Controllers только для работы с данными и возврата Inertia responses.
- Бизнес-логика должна находиться в Services или Actions.
- Валидация и авторизация выполняются через Form Requests и Policies.
- Eloquent: скрывать лишние поля, использовать casts, корректные имена отношений.
- При создании новых моделей и миграций использовать UUID! Если старые таблицы используются, то необходимо добавить uuid в таблицу и добавить uuid в модель.

### Frontend (Vue.js + Inertia)
- Один экран = один компонент в `resources/js/Pages/**`
- Переиспользуемые UI-компоненты в `resources/js/Components/**`
- Только реактивность Vue вместо прямого DOM-манипулирования
- Запросы выполняются через Inertia useForm и Axios через адаптеры Inertia

## Переписывание jQuery в нативный JS / Vue
| jQuery | Vue / JS |
|--------|----------|
| `$('.btn').on('click', fn)` | `<button @click="fn">` |
| `$.ajax(...)` | `Inertia.post() / Axios` |
| `$('#el').addClass('active')` | `:class="{ active: state }"` |
| Анимации через jQuery | CSS Transition или Vue transitions |

## Генерация кода ИИ
ИИ должен:
- Генерировать компоненты в `<script setup>` стиле
- Строго соблюдать структуру проекта
- Создавать модульный и чистый код
- Следовать форматированию:
  - indent 2 spaces
  - camelCase (JS), PascalCase (Vue components), snake_case (Laravel)
- Все текстовые строки выводить через локализацию Laravel

ИИ не должен:
- Использовать jQuery
- Создавать inline-скрипты
- Генерировать Blade UI, только layout

## UI и верстка
- Используются стили из верстки, без TailwindCSS
- Динамические классы через директивы Vue

## Производительность
- Время загрузки страницы не более 3 секунд
- Высокая доступность: 99.9% uptime
- Проект обязан быть масштабируемым
- Минимизировать запросы и передаваемые данные
- Использовать кеширование там, где это применимо

## Безопасность
- Защита от XSS
- Защита от SQL-инъекций средствами Eloquent и Query Builder
- Ограничение частоты запросов (rate limiting) для защиты от DDoS
- Политики и middleware для контроля доступа
- Очистка пользовательского ввода на серверной стороне

## Версии и зависимости
- Laravel Breeze (Inertia + Vue)
- Vue 3 + Composition API
- Inertia.js
- Axios

## Рекомендации по качеству кода
- Принципы SOLID и DRY
- Документирование публичных методов
- Минимум магических значений
- Тесты на критичные модули

